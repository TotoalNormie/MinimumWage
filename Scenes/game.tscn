[gd_scene load_steps=18 format=3 uid="uid://uh4xphbmf21s"]

[ext_resource type="Script" path="res://Scripts/game.gd" id="1_kjgl1"]
[ext_resource type="PackedScene" uid="uid://brh0dmdp0g0fc" path="res://CustomComponents/Characters/Player.tscn" id="2_ff72a"]
[ext_resource type="PackedScene" uid="uid://d0kjr4q663teo" path="res://CustomComponents/office_tile_map.tscn" id="4_vo0qb"]
[ext_resource type="PackedScene" uid="uid://do8jacgvqreqn" path="res://CustomComponents/elavator_tile_map.tscn" id="5_awoaj"]
[ext_resource type="Texture2D" uid="uid://dcw3h7lyc6t17" path="res://Sprites/sus.png" id="5_hxgrv"]
[ext_resource type="FontFile" uid="uid://lumnleqyj4qc" path="res://Fonts/PixelifySans.ttf" id="6_j12af"]
[ext_resource type="AudioStream" uid="uid://dr4yde588lb7v" path="res://Audio/y2mate.com - Lets Rock  Titan Speaker Man OST.mp3" id="7_aov46"]
[ext_resource type="PackedScene" uid="uid://cvh87s83kf0de" path="res://CustomComponents/elevator_card.tscn" id="8_moo8g"]

[sub_resource type="Gradient" id="Gradient_dyct6"]
colors = PackedColorArray(1.81694e-06, 0.426875, 2.88785e-07, 1, 0.110444, 0.249584, 0.108495, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_lymv3"]
noise_type = 0
seed = 100
frequency = 0.32

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_f5w3c"]
width = 1000
height = 1000
color_ramp = SubResource("Gradient_dyct6")
noise = SubResource("FastNoiseLite_lymv3")

[sub_resource type="NavigationPolygon" id="NavigationPolygon_rv6vf"]
outlines = Array[PackedVector2Array]([PackedVector2Array(23, 155, 2757, 228, 2479, 1638, 386, 1638)])
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 15.5

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_lfhhm"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_goi47"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_48pr4"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_k8ofc"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_g0g3s"]

[node name="game" type="Node2D"]
script = ExtResource("1_kjgl1")

[node name="Grass" type="Sprite2D" parent="."]
z_index = -2
texture_filter = 1
scale = Vector2(2, 2)
texture = SubResource("NoiseTexture2D_f5w3c")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_rv6vf")
navigation_layers = 3

[node name="OfficeTileMap" parent="NavigationRegion2D" instance=ExtResource("4_vo0qb")]
unique_name_in_owner = true
scale = Vector2(1, 1)

[node name="Player" parent="." instance=ExtResource("2_ff72a")]
unique_name_in_owner = true
position = Vector2(249, 102)
speed = 100.0

[node name="ElevatorTileMap" parent="." instance=ExtResource("5_awoaj")]
collision_animatable = true

[node name="Borgus" type="Sprite2D" parent="."]
position = Vector2(-209, 625)
scale = Vector2(0.551291, 0.200815)
texture = ExtResource("5_hxgrv")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="MarginContainer2" type="MarginContainer" parent="CanvasLayer"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -87.0
offset_bottom = 80.0
grow_horizontal = 0
mouse_filter = 2

[node name="PauseButton" type="Button" parent="CanvasLayer/MarginContainer2"]
process_mode = 3
layout_mode = 2
theme_override_font_sizes/font_size = 50
theme_override_styles/normal = SubResource("StyleBoxEmpty_lfhhm")
theme_override_styles/hover = SubResource("StyleBoxEmpty_goi47")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_48pr4")
theme_override_styles/disabled = SubResource("StyleBoxEmpty_k8ofc")
theme_override_styles/focus = SubResource("StyleBoxEmpty_g0g3s")
text = "üÖ±Ô∏è"

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer"]
z_index = 15
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -182.5
offset_right = 182.5
offset_bottom = 137.0
grow_horizontal = 2
size_flags_vertical = 0
theme_override_constants/margin_top = 150

[node name="Level" type="Label" parent="CanvasLayer/MarginContainer"]
unique_name_in_owner = true
texture_filter = 1
layout_mode = 2
theme_override_fonts/font = ExtResource("6_j12af")
theme_override_font_sizes/font_size = 100
text = "Level 1"
uppercase = true

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("7_aov46")
volume_db = -10.124
autoplay = true

[node name="ElevatorCard" parent="." instance=ExtResource("8_moo8g")]
position = Vector2(-54, 25)

[connection signal="bake_finished" from="NavigationRegion2D" to="." method="_on_navigation_region_2d_bake_finished"]
[connection signal="navigation_polygon_changed" from="NavigationRegion2D" to="." method="_on_navigation_region_2d_navigation_polygon_changed"]
[connection signal="level_generated" from="NavigationRegion2D/OfficeTileMap" to="." method="_on_office_tile_map_level_generated"]
[connection signal="on_player_death" from="Player" to="." method="_on_player_on_player_death"]
[connection signal="on_level_complete" from="ElevatorTileMap" to="." method="_on_elevator_tile_map_on_level_complete"]
[connection signal="pressed" from="CanvasLayer/MarginContainer2/PauseButton" to="." method="_on_pause_button_pressed"]
